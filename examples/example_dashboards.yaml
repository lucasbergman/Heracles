---
- title: Test Dasbboard 1
  graphs:
    - title: Node cpu
      d3_tick_format: "~s"
      plots:
        - source: http://heimdall:9001
          query: 'sum by (instance)(irate(node_cpu_seconds_total{job="nodestats"}[5m]))'
          meta:
            name_label: instance
      query_type: Range
      span:
        end: now
        duration: 1d
        step_duration: 10min
- title: Test Dasbboard 2
  span:
    end: 2024-02-10T00:00:00.00Z
    duration: 2 days
    step_duration: 1 minute
  graphs:
    - title: Node cpu percent
      d3_tick_format: "~%"
      query_type: Range
      plots:
        - source: http://heimdall:9001
          query: |
            sum by (instance)(irate(node_cpu_seconds_total{mode="system",job="nodestats"}[5m])) / sum by (instance)(irate(node_cpu_seconds_total{job="nodestats"}[5m]))
          meta:
            d3_tick_format: "~s"
            name_label: instance
            name_prefix: "System"
        - source: http://heimdall:9001
          query: |
            sum by (instance)(irate(node_cpu_seconds_total{mode="user",job="nodestats"}[5m])) / sum by (instance)(irate(node_cpu_seconds_total{job="nodestats"}[5m]))
          meta:
            #d3_tick_format: "~s"
            name_label: instance
            name_suffix: "User"
    - title: Node memory
      query_type: Scalar
      plots:
        - source: http://heimdall:9001
          query: 'node_memory_MemFree_bytes{job="nodestats"}'
          meta:
            name_label: instance
